(function(t){"use strict";var i={defaults:{animation:"horizontal-push",animationSpeed:600,timer:!0,advanceSpeed:4e3,pauseOnHover:!1,startClockOnMouseOut:!1,startClockOnMouseOutAfter:1e3,directionalNav:!0,captions:!0,captionAnimation:"fade",captionAnimationSpeed:600,bullets:!1,bulletThumbs:!1,bulletThumbLocation:"",afterSlideChange:t.noop,fluid:!0,centerBullets:!0},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><a href="#!" class="right">Right</a><a href="#!" class="left">Left</a></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',init:function(i,e){var s,n=0,o=this;this.clickTimer=t.proxy(this.clickTimer,this),this.addBullet=t.proxy(this.addBullet,this),this.resetAndUnlock=t.proxy(this.resetAndUnlock,this),this.stopClock=t.proxy(this.stopClock,this),this.startTimerAfterMouseLeave=t.proxy(this.startTimerAfterMouseLeave,this),this.clearClockMouseLeaveTimer=t.proxy(this.clearClockMouseLeaveTimer,this),this.rotateTimer=t.proxy(this.rotateTimer,this),this.options=t.extend({},this.defaults,e),"false"===this.options.timer&&(this.options.timer=!1),"false"===this.options.captions&&(this.options.captions=!1),"false"===this.options.directionalNav&&(this.options.directionalNav=!1),this.$element=t(i),this.$wrapper=this.$element.wrap(this.wrapperHTML).parent(),this.$slides=this.$element.children("img, a, div"),this.options.fluid&&this.$wrapper.addClass("fluid"),this.$element.on("orbit.next",function(){o.shift("next")}),this.$element.on("orbit.prev",function(){o.shift("prev")}),this.$element.on("orbit.goto",function(t,i){o.shift(i)}),this.$element.on("orbit.start",function(){o.startClock()}),this.$element.on("orbit.stop",function(){o.stopClock()}),s=this.$slides.filter("img"),0===s.length?this.loaded():s.on("imageready",function(){n+=1,n===s.length&&o.loaded()})},loaded:function(){this.$element.addClass("orbit").css({width:"1px",height:"1px"}),this.setDimentionsFromLargestSlide(),this.updateOptionsIfOnlyOneSlide(),this.setupFirstSlide(),this.options.timer&&(this.setupTimer(),this.startClock()),this.options.captions&&this.setupCaptions(),this.options.directionalNav&&this.setupDirectionalNav(),this.options.bullets&&(this.setupBulletNav(),this.setActiveBullet())},currentSlide:function(){return this.$slides.eq(this.activeSlide)},setDimentionsFromLargestSlide:function(){var i,e=this;e.$element.add(e.$wrapper).width(this.$slides.first().width()),e.$element.add(e.$wrapper).height(this.$slides.first().height()),e.orbitWidth=this.$slides.first().width(),e.orbitHeight=this.$slides.first().height(),i=this.$slides.first().clone(),this.$slides.each(function(){var s=t(this),n=s.width(),o=s.height();n>e.$element.width()&&(e.$element.add(e.$wrapper).width(n),e.orbitWidth=e.$element.width()),o>e.$element.height()&&(e.$element.add(e.$wrapper).height(o),e.orbitHeight=e.$element.height(),i=t(this).clone()),e.numberSlides+=1}),this.options.fluid&&("string"==typeof this.options.fluid&&(i=t('<img src="http://placehold.it/'+this.options.fluid+'" />')),e.$element.prepend(i),i.addClass("fluid-placeholder"),e.$element.add(e.$wrapper).css({width:"inherit"}),e.$element.add(e.$wrapper).css({height:"inherit"}),t(window).on("resize",function(){e.orbitWidth=e.$element.width(),e.orbitHeight=e.$element.height()}))},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},updateOptionsIfOnlyOneSlide:function(){1===this.$slides.length&&(this.options.directionalNav=!1,this.options.timer=!1,this.options.bullets=!1)},setupFirstSlide:function(){this.$slides.first().addClass("active")},startClock:function(){var t=this;return this.options.timer?(this.$timer.is(":hidden")?this.clock=setInterval(function(){t.$element.trigger("orbit.next")},this.options.advanceSpeed):(this.timerRunning=!0,this.$pause.removeClass("active"),this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180)),void 0):!1},rotateTimer:function(){var t="rotate("+this.degrees+"deg)";this.degrees+=2,this.$rotator.css({"-webkit-transform":t,"-moz-transform":t,"-o-transform":t,transform:t}),this.degrees>180&&(this.$rotator.addClass("move"),this.$mask.addClass("move")),this.degrees>360&&(this.$rotator.removeClass("move"),this.$mask.removeClass("move"),this.degrees=0,this.$element.trigger("orbit.next"))},stopClock:function(){return this.options.timer?(this.timerRunning=!1,clearInterval(this.clock),this.$pause.addClass("active"),void 0):!1},setupTimer:function(){this.$timer=t(this.timerHTML),this.$wrapper.append(this.$timer),this.$rotator=this.$timer.find(".rotator"),this.$mask=this.$timer.find(".mask"),this.$pause=this.$timer.find(".pause"),this.$timer.click(this.clickTimer),this.options.startClockOnMouseOut&&(this.$wrapper.mouseleave(this.startTimerAfterMouseLeave),this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)),this.options.pauseOnHover&&this.$wrapper.mouseenter(this.stopClock)},startTimerAfterMouseLeave:function(){var t=this;this.outTimer=setTimeout(function(){t.timerRunning||t.startClock()},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){this.timerRunning?this.stopClock():this.startClock()},setupCaptions:function(){this.$caption=t(this.captionHTML),this.$wrapper.append(this.$caption),this.setCaption()},setCaption:function(){var i,e=this.currentSlide().attr("data-caption");if(!this.options.captions)return!1;if(e)switch(i=t(e).html(),this.$caption.attr("id",e).html(i),this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed)}else switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed)}},setupDirectionalNav:function(){var t=this;this.$wrapper.append(this.directionalNavHTML),this.$wrapper.find(".left").click(function(){t.stopClock(),t.$element.trigger("orbit.prev")}),this.$wrapper.find(".right").click(function(){t.stopClock(),t.$element.trigger("orbit.next")})},setupBulletNav:function(){this.$bullets=t(this.bulletHTML),this.$wrapper.append(this.$bullets),this.$slides.each(this.addBullet),this.$element.addClass("with-bullets"),this.options.centerBullets&&this.$bullets.css("margin-left",-this.$bullets.width()/2)},addBullet:function(i,e){var s,n=i+1,o=t("<li>"+n+"</li>"),a=this;this.options.bulletThumbs&&(s=t(e).attr("data-thumb"),s&&o.addClass("has-thumb").css({background:"url("+this.options.bulletThumbLocation+s+") no-repeat"})),this.$bullets.append(o),o.data("index",i),o.click(function(){a.stopClock(),a.$element.trigger("orbit.goto",[o.data("index")])})},setActiveBullet:function(){return this.options.bullets?(this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active"),void 0):!1},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).removeClass("active"),this.unlock(),this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(t){var i=t;return this.prevActiveSlide=this.activeSlide,this.prevActiveSlide===i?!1:"1"===this.$slides.length?!1:(this.locked||(this.lock(),"next"===t?(this.activeSlide+=1,this.activeSlide===this.numberSlides&&(this.activeSlide=0)):"prev"===t?(this.activeSlide-=1,0>this.activeSlide&&(this.activeSlide=this.numberSlides-1)):(this.activeSlide=t,this.prevActiveSlide<this.activeSlide?i="next":this.prevActiveSlide>this.activeSlide&&(i="prev")),this.setActiveBullet(),this.$slides.eq(this.prevActiveSlide).removeClass("active"),"fade"===this.options.animation&&this.$slides.eq(this.activeSlide).css({opacity:0}).addClass("active").animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock),"horizontal-slide"===this.options.animation&&("next"===i&&this.$slides.eq(this.activeSlide).addClass("active").css({left:this.orbitWidth}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),"prev"===i&&this.$slides.eq(this.activeSlide).addClass("active").css({left:-this.orbitWidth}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)),"vertical-slide"===this.options.animation&&("prev"===i&&this.$slides.eq(this.activeSlide).addClass("active").css({top:this.orbitHeight}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),"next"===i&&this.$slides.eq(this.activeSlide).addClass("active").css({top:-this.orbitHeight}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)),"horizontal-push"===this.options.animation&&("next"===i&&(this.$slides.eq(this.activeSlide).addClass("active").css({left:this.orbitWidth}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed)),"prev"===i&&(this.$slides.eq(this.activeSlide).addClass("active").css({left:-this.orbitWidth}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed))),"vertical-push"===this.options.animation&&("next"===i&&(this.$slides.eq(this.activeSlide).addClass("active").css({top:-this.orbitHeight}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed)),"prev"===i&&(this.$slides.eq(this.activeSlide).addClass("active").css({top:this.orbitHeight}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock),this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed))),this.setCaption()),void 0)}};if(!window.Modernizr||window.Modernizr.touch){var e,s,n,o,a=!1,h=t(".orbit"),r=t(".slider-nav"),l={getCurrentSlide:function(){return t(".orbit-bullets > li").index(".active")},resetSlider:function(){h[0].removeEventListener("touchmove",l.onTouchMove,!1),h[0].removeEventListener("touchend",l.onTouchEnd,!1),e=null,s=null,o=null},onTouchStart:function(t){1===t.touches.length&&(h[0].addEventListener("touchmove",l.onTouchMove,!1),h[0].addEventListener("touchend",l.onTouchEnd,!1),e=t.touches[0].pageX,s=t.touches[0].pageY,n=h.height())},onTouchMove:function(t){o=e-t.touches[0].pageX,a=Math.abs(o)<Math.abs(s-t.touches[0].pageY),a?l.resetSlider():(t.preventDefault(),o=function(){return o/n}())},onTouchEnd:function(){if(null!==o){var t;t=o>0?r.children(".right"):r.children(".left"),(Math.abs(o)>.2||Math.abs(o)>n/2)&&t.trigger("click")}l.resetSlider()}};h.length>0&&h[0].addEventListener("touchstart",l.onTouchStart,!1),t.fn.orbit=function(e){return this.each(function(){var s=t.extend({},i);s.init(this,e)})}}})(jQuery),function(t){"use strict";var i={},e=function(i,e){var s=t(i);s.on("load.imageready",function(){e.apply(i,arguments),s.off("load.imageready")})};t.event.special.imageready={setup:function(t){i=t||i},add:function(s){var n,o=t(this);1===this.nodeType&&"img"===this.tagName.toLowerCase()&&""!==this.src&&(i.forceLoad?(n=o.attr("src"),o.attr("src",""),e(this,s.handler),o.attr("src",n)):this.complete||4===this.readyState?s.handler.apply(this,arguments):e(this,s.handler))},teardown:function(){t(this).off(".imageready")}}}(jQuery);